{
    "version": "25.3",
    "notes": "该脚本未实现自动卸载，如需卸载请手动卸载",
    "url": [
        "http://dds.autodesk.com/NetSWDLD/ODIS/prd/2025/MAYA/362B397E-25E9-3A9B-AF10-B1273B2D9517/SFX/Autodesk_Maya_2025_3_ML_Windows_64bit_db_002_002.7z#/my25#25.3#048e697.7z",
        "https://github.com/user-attachments/files/17934829/my25.3_files.zip#/my25#25.3#f052142.zip"
    ],
    "hash": [
        "6b7cba700afd7b1ff9c5a2e4c2f70e6c45af02bd1168a9ecddc7519cbfb165a6",
        "adc65f1c4925a58dd655336904707155aa90f1093e78eb4e8c6269b06cc48f1b"
    ],
    "extract_to": [
        "",
        "files"
    ],
    "pre_install": [
        "if (!(is_admin)) { error \"$app requires admin rights to $cmd\"; break }"
    ],
    "installer": {
        "file": "Setup.exe",
        "args": "--silent"
    },
    "post_install": [
        "$sourceDir = \"$dir\\files\"",
        "$destinationDir = \"$env:ProgramFiles\\Autodesk\\Maya2025\\bin\"",
        "Write-Host \"\\n\"",
        "Get-ChildItem -Path $sourceDir -File | ForEach-Object {",
        "    Copy-Item -Path $_.FullName -Destination $destinationDir -Force",
        "    Write-Host \"Copied file: $($_.FullName) to $destinationDir\"",
        "}",
        "# 删除安装程序解压生成的文件及安装程序",
        "Remove-Item \"C:\\Autodesk\\\" -Force -Recurse -ErrorAction SilentlyContinue",
        "Get-ChildItem -Path $dir -Recurse | Remove-Item -Force -ErrorAction SilentlyContinue -Recurse"
    ],
    "##": [
        "# 各组件在x64目录中，以.msi文件安装",
        "# 在控制面板中卸载组件时运行的命令参考似如注册表项：",
        "[HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{F11ABB5A-3CE8-4026-8579-A969AB5A0420}]",
        "\"uninstallString\"=\"MsiExec.exe /X{F11ABB5A-3CE8-4026-8579-A969AB5A0420}\"",
        "# 要获取.msi安装后对应的ProductCode，可在注册表中查找，或:",
        "Get-WmiObject Win32_Product | Select-Object Name, IdentifyingNumber"
    ]
}
